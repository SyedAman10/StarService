{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/erpai/projects/StarService/app/api/signup/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\n\r\n// In-memory storage for demo purposes\r\n// In production, you'd use a proper database\r\nconst subscribers: { email: string; timestamp: string }[] = [];\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n    console.log(\"Received body:\", body);\r\n    const { email } = body;\r\n    console.log(\"Extracted email:\", email);\r\n\r\n    // Validate email\r\n    if (!email || !email.includes(\"@\")) {\r\n      console.log(\"Email validation failed:\", email);\r\n      return NextResponse.json(\r\n        { error: \"Please provide a valid email address\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Check if email already exists\r\n    const existingSubscriber = subscribers.find((sub) => sub.email === email);\r\n    if (existingSubscriber) {\r\n      return NextResponse.json(\r\n        { error: \"This email is already registered for early access\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Store the subscriber\r\n    subscribers.push({\r\n      email,\r\n      timestamp: new Date().toISOString(),\r\n    });\r\n\r\n    // In production, you would:\r\n    // 1. Save to database\r\n    // 2. Send a welcome email via email service (SendGrid, Resend, etc.)\r\n    // 3. Add to email marketing platform\r\n\r\n    // Simulate sending an email\r\n    console.log(`üìß Sending welcome email to: ${email}`);\r\n    console.log(`Total subscribers: ${subscribers.length}`);\r\n\r\n    // Mock email content that would be sent\r\n    const emailContent = {\r\n      to: email,\r\n      subject: \"Welcome to StarServices - Your Early Access is Confirmed! üöÄ\",\r\n      body: `\r\n        Hi there!\r\n\r\n        Thank you for signing up for early access to StarServices!\r\n\r\n        We're thrilled to have you on board. Here's what you can expect:\r\n\r\n        üîç Discover validated startup ideas from real conversations on Reddit, Twitter, and social media\r\n        ‚úÖ Get instant market validation and demand insights\r\n        üöÄ Create professional landing pages and marketing campaigns in minutes\r\n\r\n        As an early access member, you'll be among the first to:\r\n        - Access our curated idea database\r\n        - Use our AI-powered validation tools\r\n        - Launch your startup with automated tools\r\n        - Get lifetime exclusive benefits\r\n\r\n        We'll notify you as soon as we launch. In the meantime, follow us on social media for updates!\r\n\r\n        Best regards,\r\n        The StarServices Team\r\n\r\n        ---\r\n        StarServices - Turning Ideas Into Successful Startups\r\n      `,\r\n    };\r\n\r\n    console.log(\"Email content:\", emailContent);\r\n\r\n    return NextResponse.json(\r\n      {\r\n        success: true,\r\n        message: \"Successfully signed up for early access!\",\r\n      },\r\n      { status: 200 }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Signup error:\", error);\r\n    return NextResponse.json(\r\n      { error: \"An error occurred. Please try again later.\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// Optional: Add GET endpoint to retrieve subscriber count\r\nexport async function GET() {\r\n  return NextResponse.json({\r\n    count: subscribers.length,\r\n    message: \"Subscriber count retrieved successfully\",\r\n  });\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,sCAAsC;AACtC,6CAA6C;AAC7C,MAAM,cAAsD,EAAE;AAEvD,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,MAAM,EAAE,KAAK,EAAE,GAAG;QAClB,QAAQ,GAAG,CAAC,oBAAoB;QAEhC,iBAAiB;QACjB,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,CAAC,MAAM;YAClC,QAAQ,GAAG,CAAC,4BAA4B;YACxC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuC,GAChD;gBAAE,QAAQ;YAAI;QAElB;QAEA,gCAAgC;QAChC,MAAM,qBAAqB,YAAY,IAAI,CAAC,CAAC,MAAQ,IAAI,KAAK,KAAK;QACnE,IAAI,oBAAoB;YACtB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAoD,GAC7D;gBAAE,QAAQ;YAAI;QAElB;QAEA,uBAAuB;QACvB,YAAY,IAAI,CAAC;YACf;YACA,WAAW,IAAI,OAAO,WAAW;QACnC;QAEA,4BAA4B;QAC5B,sBAAsB;QACtB,qEAAqE;QACrE,qCAAqC;QAErC,4BAA4B;QAC5B,QAAQ,GAAG,CAAC,CAAC,6BAA6B,EAAE,OAAO;QACnD,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,YAAY,MAAM,EAAE;QAEtD,wCAAwC;QACxC,MAAM,eAAe;YACnB,IAAI;YACJ,SAAS;YACT,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;;;;MAwBP,CAAC;QACH;QAEA,QAAQ,GAAG,CAAC,kBAAkB;QAE9B,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,SAAS;QACX,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA6C,GACtD;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe;IACpB,OAAO,gJAAY,CAAC,IAAI,CAAC;QACvB,OAAO,YAAY,MAAM;QACzB,SAAS;IACX;AACF"}}]
}